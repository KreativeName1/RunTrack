<Window x:Class="Klimalauf.Datenuebersicht"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Klimalauf" xmlns:fc="http://devpelux.github.io/fullcontrols" xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d"
        Icon="pack://application:,,,/Images/iconRunMan.ico"
        Title="Datenuebersicht" Height="750" Width="1100" Loaded="Window_Loaded" WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <local:MainViewModel/>
    </Window.DataContext>
    <Window.Resources>
        <local:WindowHeightConverter x:Key="WindowHeightConverter"/>
    </Window.Resources>
    <Grid  DataContext="{StaticResource dumodel}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <local:TopBar Grid.ColumnSpan="2" x:Name="Leiste" HorizontalAlignment="Stretch" VerticalAlignment="Top" />

        <StackPanel Orientation="Vertical" Margin="5,33,10,0">
            <!--Startseite-->
            <fc:ButtonPlus x:Name="btnStartseite" Cursor="Hand" Content="Startseite" Background="#6C7C98" Foreground="White" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5,30,5,30" Click="btnStartseite_Click" Visibility="Collapsed"/>
            <fc:ButtonPlus x:Name="btnStartseiteDisabled" BackgroundOnDisabled="#00a082" ForegroundOnDisabled="#F4F8F4" IsEnabled="False" Content="Startseite" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5,30,5,30" Background="#00a082" FontWeight="Bold" Foreground="Wheat"/>

            <!--Schule-->
            <fc:ButtonPlus x:Name="btnSchule" Cursor="Hand" Content="Schule" Background="#6C7C98" Foreground="White" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Click="btnSchule_Click"/>
            <fc:ButtonPlus x:Name="btnSchuleDisabled" Content="Schule" BackgroundOnDisabled="#00a082" ForegroundOnDisabled="#F4F8F4" IsEnabled="False" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Click="btnSchule_Click" Background="#00a082" FontWeight="Bold" Foreground="Wheat" Visibility="Collapsed"/>

            <!--Klasse-->
            <fc:ButtonPlus x:Name="btnKlassen" Cursor="Hand" Content="Klassen" Background="#6C7C98" Foreground="White" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Click="btnKlassen_Click" />
            <fc:ButtonPlus x:Name="btnKlassenDisabled" Content="Klassen" BackgroundOnDisabled="#00a082" ForegroundOnDisabled="#F4F8F4" IsEnabled="False" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Background="#00a082" FontWeight="Bold" Foreground="Wheat" Visibility="Collapsed"/>

            <!--Schüler-->
            <fc:ButtonPlus x:Name="btnSchueler" Cursor="Hand" Content="Schüler" Background="#6C7C98" Foreground="White" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Click="btnSchueler_Click"/>
            <fc:ButtonPlus x:Name="btnSchuelerDisabled" Content="Schüler" BackgroundOnDisabled="#00a082" ForegroundOnDisabled="#F4F8F4" IsEnabled="False" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Background="#00a082" FontWeight="Bold" Foreground="Wheat" Visibility="Collapsed"/>

            <!--Runden-->
            <fc:ButtonPlus x:Name="btnRunden" Cursor="Hand" Content="Runden" Background="#6C7C98" Foreground="White" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Click="btnRunden_Click"/>
            <fc:ButtonPlus x:Name="btnRundenDisabled" Content="Runden" BackgroundOnDisabled="#00a082" ForegroundOnDisabled="#F4F8F4" IsEnabled="False" CornerRadius="5.5" VerticalAlignment="Top" Width="150" Height="30" Margin="5" Background="#00a082" FontWeight="Bold" Foreground="Wheat" Visibility="Collapsed"/>
        </StackPanel>

        <StackPanel Orientation="Vertical" VerticalAlignment="Bottom" Margin="25,10,10,20" Grid.Column="0" Grid.Row="1">
            <local:SearchBar x:Name="SearchControl" SearchRequested="SearchControl_SearchRequested" />
        </StackPanel>

        <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,34,85,-14" Grid.Row="1">
            <fc:ButtonPlus x:Name="btnNext" Cursor="Hand" Content="→" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Width="20" Height="20" Margin="5" Click="btnNext_Click"/>
            <fc:ButtonPlus x:Name="btnPrevious" Cursor="Hand" Content="←" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Width="20" Height="20" Margin="5" Click="btnPrevious_Click"/>
        </StackPanel>

        <Rectangle x:Name="rectAbtrennnung" HorizontalAlignment="Left" Grid.RowSpan="2" Height="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=ActualHeight, Converter={StaticResource WindowHeightConverter}}" Margin="200,27,0,0" Fill="#FF5F5F5F" Stroke="#FF5F5F5F" VerticalAlignment="Top" Width="5"/>
        <Rectangle Height="5" Margin="0,0,0,0" Stroke="#FF5F5F5F" Fill="#FF5F5F5F" VerticalAlignment="Top" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Cursor=""/>

        <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="25,10,10,10" Grid.Row="2">
            <fc:ButtonPlus x:Name="btnDownload" Cursor="Hand" Content="Export" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Click="btnDownload_Click" Width="120" Height="30" Margin="5"/>
            <fc:ButtonPlus x:Name="btnBarcodes" Cursor="Hand" Content="Barcodes erstellen" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Visibility="Visible" Click="btnBarcodes_Click" Width="120" Height="30" Margin="10,10,5,10"/>
            <fc:ButtonPlus x:Name="btnSpeichern" Cursor="Hand" Content="Speichern" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Width="120" Height="30" Margin="10,10,5,10" Click="btnSpeichern_Click"/>
            <fc:ButtonPlus x:Name="btnNeu" Cursor="Hand" Content="Neuer Eintrag" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Width="120" Height="30" Margin="10,10,5,10" Click="btnNeu_Click"/>
            <fc:ButtonPlus x:Name="btnDel" Cursor="Hand" Content="Eintrag löschen" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Width="120" Height="30" Margin="10,10,25,10" Click="btnDel_Click"/>
        </StackPanel>
        <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10,10,25,10" Grid.Row="2">
            <fc:ButtonPlus Content="Schließen" Cursor="Hand" BackgroundOnMouseOver="#879bbe" ForegroundOnMouseOver="White" CornerRadius="5.5" Background="#6C7C98" Foreground="White" Click="CloseWindow_Click" Width="120" Height="30" Margin="5"/>
        </StackPanel>

        <!--Startseite-->
        <GroupBox x:Name="StartseiteGrid" Header="Startseite" Margin="17,45,25,17" Grid.Column="1">
            <Grid>
                <DataGrid x:Name="lstStartseite" ItemsSource="{Binding LstSchueler}" Margin="0,5,0,0" FontFamily="Consolas" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeRows="False" SelectionMode="Single" IsReadOnly="False">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="HorizontalContentAlignment" Value="center"/>
                            <Setter Property="Foreground" Value="#FF3957FF"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Width="15*" Header="Klasse-Id" Binding="{Binding KlasseId}"/>
                        <DataGridTextColumn Width="10*" Header="Laufnr." Binding="{Binding Id}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="15*" Header="Vorname" Binding="{Binding Vorname}"/>
                        <DataGridTextColumn Width="15*" Header="Nachname" Binding="{Binding Nachname}"/>
                        <DataGridTextColumn Width="15*" Header="Klasse" Binding="{Binding Klasse.Name}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="20*" Header="Schule" Binding="{Binding Klasse.Schule.Name}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="11*" Header="Runden" Binding="{Binding Runden.Count}" IsReadOnly="True"/>
                        <!--<DataGridTextColumn Width="15*" Header="Bestzeit" Binding="{Binding rundenBestZeit}"/>-->
                        <DataGridTextColumn Width="15*" Header="Rundengröße" Binding="{Binding Klasse.RundenArt.LaengeInMeter, StringFormat={}{0} m}" IsReadOnly="True"/>
                        <!--Binding="{Binding Klasse.RundenArt.LaengeInMeter}"/>-->
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>

        <!--Schulen-->
        <GroupBox x:Name="SchuleGrid" Header="Schulen" Margin="17,45,25,17" Grid.Column="1" Visibility="Collapsed">
            <Grid>
                <DataGrid x:Name="lstSchule" ItemsSource="{Binding LstSchule}" Margin="0,5,0,0" FontFamily="Consolas" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeRows="False" SelectionMode="Single" IsReadOnly="False">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="HorizontalContentAlignment" Value="center"/>
                            <Setter Property="Foreground" Value="#FF3957FF"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Width="8*" Header="Id" Binding="{Binding Id}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="25*" Header="Schule" Binding="{Binding Name}" IsReadOnly="True"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>

        <!--Klasse-->
        <GroupBox x:Name="KlasseGrid" Header="Klassen" Margin="17,45,25,17" Grid.Column="1" Visibility="Collapsed">
            <Grid>
                <DataGrid x:Name="lstKlasse" ItemsSource="{Binding LstKlasse}" Margin="0,5,0,0" FontFamily="Consolas" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeRows="False" SelectionMode="Single" IsReadOnly="False" MouseDoubleClick="LstKlasse_MouseDoubleClick">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="HorizontalContentAlignment" Value="center"/>
                            <Setter Property="Foreground" Value="#FF3957FF"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Width="8*" Header="Id" Binding="{Binding Id}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="15*" Header="Klasse" Binding="{Binding Name}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="25*" Header="Schule" Binding="{Binding Schule.Name}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>


        <!--Schüler-->
        <GroupBox x:Name="SchuelerGrid" Header="Schüler" Margin="17,45,25,17" Grid.Column="1" Visibility="Collapsed">
            <Grid>
                <DataGrid x:Name="lstSchueler" ItemsSource="{Binding LstSchueler}" Margin="0,5,0,0" FontFamily="Consolas" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeRows="False" SelectionMode="Single" IsReadOnly="False">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="HorizontalContentAlignment" Value="center"/>
                            <Setter Property="Foreground" Value="#FF3957FF"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Width="8*" Header="Id" Binding="{Binding Id}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="25*" Header="Namen" Binding="{Binding Vorname}"/>
                        <DataGridTextColumn Width="25*" Header="Namen" Binding="{Binding Nachname}"/>
                        <DataGridTextColumn Width="15*" Header="Klasse" Binding="{Binding Klasse.Name}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="25*" Header="Schule" Binding="{Binding Klasse.Schule.Name}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="11*" Header="Runden" Binding="{Binding Runden.Count}" IsReadOnly="True"/>
                        <!--<DataGridTextColumn Width="15*" Header="Bestzeit" Binding="{Binding rundenBestZeit}"/>-->
                        <DataGridTextColumn Width="15*" Header="Rundengröße" Binding="{Binding Klasse.RundenArt.LaengeInMeter, StringFormat={}{0} m}" IsReadOnly="True"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>

        <!--Runden-->
        <GroupBox x:Name="RundenGrid" Header="Runden" Margin="17,45,25,17" Grid.Column="1" Visibility="Collapsed">
            <Grid>
                <DataGrid x:Name="lstRunden" ItemsSource="{Binding LstRunde}" Margin="0,5,0,0" FontFamily="Consolas" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeRows="False" SelectionMode="Single" IsReadOnly="False">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="HorizontalContentAlignment" Value="center"/>
                            <Setter Property="Foreground" Value="#FF3957FF"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Width="8*" Header="Id" Binding="{Binding Id}"/>
                        <DataGridTextColumn Width="15*" Header="Laufnr." Binding="{Binding Schueler.Id}"/>
                        <DataGridTextColumn Width="25*" Header="Vorname" Binding="{Binding Schueler.Vorname}"/>
                        <DataGridTextColumn Width="25*" Header="Nachname" Binding="{Binding Schueler.Nachname}"/>
                        <DataGridTextColumn Width="15*" Header="Rundengröße" Binding="{Binding Schueler.Klasse.RundenArt.LaengeInMeter, StringFormat= {}{0} m}" IsReadOnly="True"/>
                        <DataGridTextColumn Width="18*" Header="Scanner" Binding="{Binding BenutzerName}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>

    </Grid>
</Window>
